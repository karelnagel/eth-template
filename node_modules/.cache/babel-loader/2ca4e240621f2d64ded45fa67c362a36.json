{"ast":null,"code":"import { isEncodedLabelhash, decodeLabelhash } from './labelhash';\nimport { normalize } from '@ensdomains/eth-ens-namehash';\n\nconst sha3 = require('js-sha3').keccak_256;\n\nexport function namehash(inputName) {\n  if (inputName === '[root]') {\n    return '0x0000000000000000000000000000000000000000000000000000000000000000';\n  }\n\n  let node = '';\n\n  for (let i = 0; i < 32; i++) {\n    node += '00';\n  }\n\n  if (inputName) {\n    const labels = inputName.split('.');\n\n    for (let i = labels.length - 1; i >= 0; i--) {\n      let labelSha;\n\n      if (isEncodedLabelhash(labels[i])) {\n        labelSha = decodeLabelhash(labels[i]);\n      } else {\n        let normalisedLabel = normalize(labels[i]);\n        labelSha = sha3(normalisedLabel);\n      }\n\n      node = sha3(new Buffer(node + labelSha, 'hex'));\n    }\n  }\n\n  return '0x' + node;\n}","map":{"version":3,"sources":["/Users/karel/Documents/eth/my-eth-app/node_modules/@ensdomains/ui/src/utils/namehash.js"],"names":["isEncodedLabelhash","decodeLabelhash","normalize","sha3","require","keccak_256","namehash","inputName","node","i","labels","split","length","labelSha","normalisedLabel","Buffer"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,eAA7B,QAAoD,aAApD;AACA,SAASC,SAAT,QAA0B,8BAA1B;;AACA,MAAMC,IAAI,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,UAAhC;;AAEA,OAAO,SAASC,QAAT,CAAkBC,SAAlB,EAA6B;AAClC,MAAIA,SAAS,KAAK,QAAlB,EAA2B;AACzB,WAAO,oEAAP;AACD;;AACD,MAAIC,IAAI,GAAG,EAAX;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BD,IAAAA,IAAI,IAAI,IAAR;AACD;;AAED,MAAID,SAAJ,EAAe;AACb,UAAMG,MAAM,GAAGH,SAAS,CAACI,KAAV,CAAgB,GAAhB,CAAf;;AAEA,SAAK,IAAIF,CAAC,GAAGC,MAAM,CAACE,MAAP,GAAgB,CAA7B,EAAgCH,CAAC,IAAI,CAArC,EAAwCA,CAAC,EAAzC,EAA6C;AAC3C,UAAII,QAAJ;;AACA,UAAIb,kBAAkB,CAACU,MAAM,CAACD,CAAD,CAAP,CAAtB,EAAmC;AACjCI,QAAAA,QAAQ,GAAGZ,eAAe,CAACS,MAAM,CAACD,CAAD,CAAP,CAA1B;AACD,OAFD,MAEO;AACL,YAAIK,eAAe,GAAGZ,SAAS,CAACQ,MAAM,CAACD,CAAD,CAAP,CAA/B;AACAI,QAAAA,QAAQ,GAAGV,IAAI,CAACW,eAAD,CAAf;AACD;;AACDN,MAAAA,IAAI,GAAGL,IAAI,CAAC,IAAIY,MAAJ,CAAWP,IAAI,GAAGK,QAAlB,EAA4B,KAA5B,CAAD,CAAX;AACD;AACF;;AAED,SAAO,OAAOL,IAAd;AACD","sourcesContent":["import { isEncodedLabelhash, decodeLabelhash } from './labelhash'\nimport { normalize } from '@ensdomains/eth-ens-namehash'\nconst sha3 = require('js-sha3').keccak_256\n\nexport function namehash(inputName) {\n  if (inputName === '[root]'){\n    return '0x0000000000000000000000000000000000000000000000000000000000000000'\n  }\n  let node = ''\n  for (let i = 0; i < 32; i++) {\n    node += '00'\n  }\n\n  if (inputName) {\n    const labels = inputName.split('.')\n\n    for (let i = labels.length - 1; i >= 0; i--) {\n      let labelSha\n      if (isEncodedLabelhash(labels[i])) {\n        labelSha = decodeLabelhash(labels[i])\n      } else {\n        let normalisedLabel = normalize(labels[i])\n        labelSha = sha3(normalisedLabel)\n      }\n      node = sha3(new Buffer(node + labelSha, 'hex'))\n    }\n  }\n\n  return '0x' + node\n}\n"]},"metadata":{},"sourceType":"module"}