{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar LoggerOptions_1 = require(\"../LoggerOptions\");\n\nvar AbstractCategoryLogger_1 = require(\"./AbstractCategoryLogger\");\n/**\n * Simple logger, that logs to the console. If the console is unavailable will throw an exception.\n */\n\n\nvar CategoryConsoleLoggerImpl = function (_super) {\n  __extends(CategoryConsoleLoggerImpl, _super);\n\n  function CategoryConsoleLoggerImpl(rootCategory, runtimeSettings) {\n    return _super.call(this, rootCategory, runtimeSettings) || this;\n  }\n\n  CategoryConsoleLoggerImpl.prototype.doLog = function (msg) {\n    if (console !== undefined) {\n      var messageFormatter = this._getMessageFormatter();\n\n      var fullMsg = void 0;\n\n      if (messageFormatter === null) {\n        fullMsg = this.createDefaultLogMessage(msg);\n      } else {\n        fullMsg = messageFormatter(msg);\n      }\n\n      var logged = false;\n      /* tslint:disable:no-console */\n\n      switch (msg.level) {\n        case LoggerOptions_1.LogLevel.Trace:\n          // Don't try trace we don't want stacks\n          break;\n\n        case LoggerOptions_1.LogLevel.Debug:\n          // Don't try, too much differences of consoles.\n          break;\n\n        case LoggerOptions_1.LogLevel.Info:\n          if (console.info) {\n            console.info(fullMsg);\n            logged = true;\n          }\n\n          break;\n\n        case LoggerOptions_1.LogLevel.Warn:\n          if (console.warn) {\n            console.warn(fullMsg);\n            logged = true;\n          }\n\n          break;\n\n        case LoggerOptions_1.LogLevel.Error:\n        case LoggerOptions_1.LogLevel.Fatal:\n          if (console.error) {\n            console.error(fullMsg);\n            logged = true;\n          }\n\n          break;\n\n        default:\n          throw new Error(\"Unsupported level: \" + msg.level);\n      }\n\n      if (!logged) {\n        console.log(fullMsg);\n      }\n      /* tslint:enable:no-console */\n\n    } else {\n      throw new Error(\"Console is not defined, cannot log msg: \" + msg.messageAsString);\n    }\n  };\n\n  return CategoryConsoleLoggerImpl;\n}(AbstractCategoryLogger_1.AbstractCategoryLogger);\n\nexports.CategoryConsoleLoggerImpl = CategoryConsoleLoggerImpl;","map":{"version":3,"sources":["../../../../src/logging/log/category/CategoryConsoleLoggerImpl.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,eAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AACA,IAAA,wBAAA,GAAA,OAAA,CAAA,0BAAA,CAAA;AAIA;;AAEG;;;AACH,IAAA,yBAAA,GAAA,UAAA,MAAA,EAAA;AAA+C,EAAA,SAAA,CAAA,yBAAA,EAAA,MAAA,CAAA;;AAE7C,WAAA,yBAAA,CAAY,YAAZ,EAAoC,eAApC,EAAoE;WAClE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,YAAN,EAAoB,eAApB,KAAoC,I;AACrC;;AAES,EAAA,yBAAA,CAAA,SAAA,CAAA,KAAA,GAAV,UAAgB,GAAhB,EAAuC;AACrC,QAAI,OAAO,KAAK,SAAhB,EAA2B;AACzB,UAAM,gBAAgB,GAAG,KAAK,oBAAL,EAAzB;;AACA,UAAI,OAAO,GAAA,KAAA,CAAX;;AACA,UAAI,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B,QAAA,OAAO,GAAG,KAAK,uBAAL,CAA6B,GAA7B,CAAV;AACD,OAFD,MAGK;AACH,QAAA,OAAO,GAAG,gBAAgB,CAAC,GAAD,CAA1B;AACD;;AAED,UAAI,MAAM,GAAG,KAAb;AAEA;;AACA,cAAQ,GAAG,CAAC,KAAZ;AACE,aAAK,eAAA,CAAA,QAAA,CAAS,KAAd;AACE;AACA;;AACF,aAAK,eAAA,CAAA,QAAA,CAAS,KAAd;AACE;AACA;;AACF,aAAK,eAAA,CAAA,QAAA,CAAS,IAAd;AACE,cAAI,OAAO,CAAC,IAAZ,EAAkB;AAChB,YAAA,OAAO,CAAC,IAAR,CAAa,OAAb;AACA,YAAA,MAAM,GAAG,IAAT;AACD;;AACD;;AACF,aAAK,eAAA,CAAA,QAAA,CAAS,IAAd;AACE,cAAI,OAAO,CAAC,IAAZ,EAAkB;AAChB,YAAA,OAAO,CAAC,IAAR,CAAa,OAAb;AACA,YAAA,MAAM,GAAG,IAAT;AACD;;AACD;;AACF,aAAK,eAAA,CAAA,QAAA,CAAS,KAAd;AACA,aAAK,eAAA,CAAA,QAAA,CAAS,KAAd;AACE,cAAI,OAAO,CAAC,KAAZ,EAAmB;AACjB,YAAA,OAAO,CAAC,KAAR,CAAc,OAAd;AACA,YAAA,MAAM,GAAG,IAAT;AACD;;AACD;;AACF;AACE,gBAAM,IAAI,KAAJ,CAAU,wBAAwB,GAAG,CAAC,KAAtC,CAAN;AA3BJ;;AA8BA,UAAI,CAAC,MAAL,EAAa;AACX,QAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;AACD;AACD;;AACD,KA/CD,MAgDK;AACH,YAAM,IAAI,KAAJ,CAAU,6CAA6C,GAAG,CAAC,eAA3D,CAAN;AACD;AACF,GApDS;;AAqDZ,SAAA,yBAAA;AAAC,CA3DD,CAA+C,wBAAA,CAAA,sBAA/C,CAAA;;AAAa,OAAA,CAAA,yBAAA,GAAA,yBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LoggerOptions_1 = require(\"../LoggerOptions\");\nvar AbstractCategoryLogger_1 = require(\"./AbstractCategoryLogger\");\n/**\n * Simple logger, that logs to the console. If the console is unavailable will throw an exception.\n */\nvar CategoryConsoleLoggerImpl = (function (_super) {\n    __extends(CategoryConsoleLoggerImpl, _super);\n    function CategoryConsoleLoggerImpl(rootCategory, runtimeSettings) {\n        return _super.call(this, rootCategory, runtimeSettings) || this;\n    }\n    CategoryConsoleLoggerImpl.prototype.doLog = function (msg) {\n        if (console !== undefined) {\n            var messageFormatter = this._getMessageFormatter();\n            var fullMsg = void 0;\n            if (messageFormatter === null) {\n                fullMsg = this.createDefaultLogMessage(msg);\n            }\n            else {\n                fullMsg = messageFormatter(msg);\n            }\n            var logged = false;\n            /* tslint:disable:no-console */\n            switch (msg.level) {\n                case LoggerOptions_1.LogLevel.Trace:\n                    // Don't try trace we don't want stacks\n                    break;\n                case LoggerOptions_1.LogLevel.Debug:\n                    // Don't try, too much differences of consoles.\n                    break;\n                case LoggerOptions_1.LogLevel.Info:\n                    if (console.info) {\n                        console.info(fullMsg);\n                        logged = true;\n                    }\n                    break;\n                case LoggerOptions_1.LogLevel.Warn:\n                    if (console.warn) {\n                        console.warn(fullMsg);\n                        logged = true;\n                    }\n                    break;\n                case LoggerOptions_1.LogLevel.Error:\n                case LoggerOptions_1.LogLevel.Fatal:\n                    if (console.error) {\n                        console.error(fullMsg);\n                        logged = true;\n                    }\n                    break;\n                default:\n                    throw new Error(\"Unsupported level: \" + msg.level);\n            }\n            if (!logged) {\n                console.log(fullMsg);\n            }\n            /* tslint:enable:no-console */\n        }\n        else {\n            throw new Error(\"Console is not defined, cannot log msg: \" + msg.messageAsString);\n        }\n    };\n    return CategoryConsoleLoggerImpl;\n}(AbstractCategoryLogger_1.AbstractCategoryLogger));\nexports.CategoryConsoleLoggerImpl = CategoryConsoleLoggerImpl;\n//# sourceMappingURL=CategoryConsoleLoggerImpl.js.map"]},"metadata":{},"sourceType":"script"}